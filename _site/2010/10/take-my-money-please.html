<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Finagle</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link href="/stylesheets/master.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/color.css" media="screen" rel="stylesheet" type="text/css" />

  <script src="/javascripts/prototype.js" type="text/javascript"></script>
  <script src="/javascripts/effects.js" type="text/javascript"></script>
  <script src="/javascripts/typo.js" type="text/javascript"></script>
  <script src="/javascripts/lucid.js" type="text/javascript"></script>

  <link href="/feed/atom.xml" rel="alternate" type="application/atom+xml" />
</head>
<body class="c-ms cs0 fixed">
  <div id="wrapper">
    <div id="w2">
      <div class="clearfix" id="w3">
        <div class="clearfix" id="header">
          <div id="logo">
            <!-- <a href="/"><img src="/images/logo.png" alt="" /></a> -->
            <h1 class="pageTitle">
              <a href="/">Finagle</a>
              <!-- <span class='subtitle'>&mdash; a weblog</span> -->
            </h1>
            <h2>Changing the world would be easier if I had the source code.</h2>
          </div>
          <div id="search"></div>
        </div>
        <div id="content">
  <div id="maincol">
    <div id="mc2">

      <div class="post">
        <div class="post-title"><h1>Take my money, please!</h1></div>
        <p class="auth">Posted by code_monkey_steve,
          <span class="typo_date" title="2010/10/12">2010-10-12 00:00:00 -0700</span></p>
        <div class="post-body">
        <p>One of the downsides to being a good web developer is that it makes it really hard to ignore bad web developers.  Ever since I started building commercial websites with an emphasis on usability, I can&#8217;t help but notice when other sites get it completely wrong.  Case in point: credit cards.  Just about every commercial site accepts credit cards, and since that is arguably the only feature that a for-profit site really needs, I would expect a little more thought would be put into it.  But instead, my online shopping experience is often stymied by developers who are apparently either too lazy or too stupid to make it easy for me to <em>give them my money</em>.  Here are a few of the more annoying mis-features I&#8217;ve run across:</p>
<h3>Card number</h3>
<ul>
	<li><strong>Wrong</strong>: &#8220;enter card number without spaces or punctuation&#8221;</li>
	<li><strong>Right</strong>: strip invalid characters</li>
</ul>
<p>Any time you ask a customer to sacrifice their convenience for the sake of your app, things have gone horribly wrong.  But especially in this case, where stripping unwanted characters is such a trivial matter, I can&#8217;t understand why any self-respecting developer would make such a blunder.  Every modern web language &#8211; including Ruby, Javascript, and even <span class="caps">PHP</span> &#8211; supports regular expression substitution.  All you have to do is:</p>
<div class="highlight"><pre><code class="ruby"><span class="n">number</span><span class="o">.</span><span class="n">gsub!</span><span class="p">(</span><span class="sr"> /[^\d]/</span><span class="p">,</span> <span class="s2">&quot;&quot;</span> <span class="p">)</span>
</code></pre>
</div><h3>Card expiration date</h3>
<ul>
	<li><strong>Wrong</strong>: &#8220;January&#8221;, &#8220;February&#8221;, &#8220;March&#8221; etc.</li>
	<li><strong>Right</strong>: 01, 02, 03, etc.</li>
</ul>
<p>This is another no-brainer: the expiration date printed on my card is <code>03/14</code> (happy Pi month!), but some sites only give a list of months <em>by name</em>, forcing me to do the conversion in my head.  Admittedly, the math is trivial, but why make customers do more work then they have to, especially when they are trying to <em>give you their money</em>.  It&#8217;s no more difficult to populate a <code>select</code> element with numbers instead of words (in some ways, it&#8217;s actually easier), and any decent web framework should provide a function to do this for you; use it!  In Rails, it&#8217;s just:</p>
<div class="highlight"><pre><code class="ruby"><span class="n">select_month</span><span class="p">(</span> <span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">,</span> <span class="ss">:add_month_numbers</span> <span class="o">=&gt;</span> <span class="kp">true</span> <span class="p">)</span>
</code></pre>
</div><h3>Card type</h3>
<ul>
	<li><strong>Wrong</strong>: &#8220;select card type&#8221;</li>
	<li><strong>Right</strong>: determine card type from card number</li>
</ul>
<p>This one involves slightly more effort, but since we&#8217;re trying to make it as easy as possible for people to <em>give us their money</em>, it&#8217;s totally worth it.  The crucial piece of information here is the fact that the type of the credit card can be determined from the card number itself, using the same ubiquitous regular expressions we used above.  Here&#8217;s a mapping of card numbers to (some of the) card types:</p>
<div class="highlight"><pre><code class="ruby"><span class="p">{</span><span class="sr"></span>
<span class="sr">  /^4/</span><span class="p">:</span>      <span class="s2">&quot;Visa&quot;</span><span class="p">,</span><span class="sr"></span>
<span class="sr">  /^5[1-5]/</span><span class="p">:</span> <span class="s2">&quot;Mastercard&quot;</span><span class="p">,</span><span class="sr"></span>
<span class="sr">  /^3[47]/</span><span class="p">:</span>  <span class="s2">&quot;American Express&quot;</span><span class="p">,</span><span class="sr"></span>
<span class="sr">  /^6011/</span><span class="p">:</span>   <span class="s2">&quot;Discover&quot;</span><span class="p">,</span>
<span class="p">}</span>
</code></pre>
</div><h3>TL;DR</h3>
<p>Put a little extra effort into designing the payment section of your site, you want to make it as easy as possible for your customers to <em>give you their money</em>.</p>
        </div>
        
          <p class="meta">
            Tags: design rant ui
          </p>
        
        <div id="disqus_thread"></div>
      </div>

    </div>
  </div>
  <div id="subcol">
    <div class="bt"><div></div></div>
    <div id="sc2">
      <div class="sidebar-node">
  <h3>Related</h3>
    <ul class="counts">
      
        
      
        
          <li><a href="/2009/07/i-hate-shoulda-but-i-blame-test-unit.html">I Hate Shoulda (But I Blame Test::Unit)</a></li>
        
      
        
          <li><a href="/2006/07/a-few-of-my-favorite-things.html">A Few of My Favorite Things</a></li>
        
      
        
          <li><a href="/2011/04/toward-a-more-perfect-mongo-odm.html">Toward a More Perfect Mongo ODM</a></li>
        
      
        
          <li><a href="/2011/03/back-from-the-dead.html">Back from the Dead</a></li>
        
      
        
          <li><a href="/2006/09/linking-outside-of-the-box-optimizing-ruby-with-c-c.html">Linking Outside of the Box: Optimizing Ruby with C/C++</a></li>
        
      
        
          <li><a href="/2006/09/odin.html">ODIN: Secure P2P on the Web</a></li>
        
      
        
          <li><a href="/2007/03/back-on-rails.html">Back on Rails</a></li>
        
      
        
          <li><a href="/2010/02/swing-from-tree-to-tree.html">Swinging from Tree to Tree</a></li>
        
      
        
          <li><a href="/2010/01/json-and-the-args-or-not.html">JSON and the Args (or Not)</a></li>
        
      
        
          <li><a href="/2009/05/couch-trouble.html">Couch Trouble</a></li>
        
      
    </ul>
</div>

    </div>
  </div>
</div>

<script type="text/javascript">
  var disqus_shortname = 'finagle';
  var disqus_identifier = '';
  var disqus_url = 'http://finagle.org/2010/10/take-my-money-please.html';

  (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

        <div id="footer">
          <p>
            <a href="http://validator.w3.org/check/referer" title="Validates this page">XHTML</a>,
            <a href="http://jigsaw.w3.org/css-validator/check/referer?warning=no&amp;profile=css2" title="Validates the CSS on this page.">CSS</a>.
            Template by <a href="http://www.soniciq.com" title="SonicIQ - Website Development">SonicIQ</a>.
            Blog comments powered by <a href="http://disqus.com" class="dsq-brlink">Disqus</a>.
          </p>
        </div>
      </div>
    </div>
  </div>

  <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-22936286-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>
