<p>I debated whether this code snippet was significant enough to bother blogging about, but it is useful if for no other reason that as an example of one of the great features of Ruby: the ability to reopen any class, even a standard class, and add methods.</p>
<p>In this case, we needed a method to apply the English rules for the possessive apostrophy to a string, e.g. a person&#8217;s name.  I looked-up the rules on <a href="http://en.wikipedia.org/wiki/Apostrophe#Singular_nouns_ending_with_an_.E2.80.9Cs.E2.80.9D_or_.E2.80.9Cz.E2.80.9D_sound">Wikipedia</a> and coded up the following three-liner:</p>
<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">String</span>
  <span class="k">def</span> <span class="nf">possessive</span>
    <span class="n">str</span> <span class="o">=</span> <span class="nb">self</span> <span class="o">+</span> <span class="s2">"'"</span>
    <span class="n">str</span> <span class="o">+=</span> <span class="s1">'s'</span> <span class="k">unless</span> <span class="sr">%r{(s|se|z|ze|ce|x|xe)$}i</span><span class="p">.</span><span class="nf">match</span><span class="p">(</span><span class="nb">self</span><span class="p">)</span>
    <span class="n">str</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></figure><p>Now in my site I can do things like:</p>
<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="s2">"Steve"</span><span class="p">.</span><span class="nf">possessive</span> <span class="o">+</span> <span class="s2">" Profile"</span>  <span class="o">==</span>  <span class="s2">"Steve's Profile"</span>
<span class="s2">"Alex"</span><span class="p">.</span><span class="nf">possessive</span> <span class="o">+</span> <span class="s2">" Profile"</span>  <span class="o">==</span>  <span class="s2">"Alex' Profile"</span></code></pre></figure><p>(Cross-posted to the <a href="http://conceivian.com/insights">Conceivian Blog</a>)</p>